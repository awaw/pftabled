pftabled 1.02 (2004-04-25)
==========================

The pftabled daemon is a small helper to make your pf tables reachable
from other hosts. You can add/delete/flush IP addresses to/from a fixed
table with a single UDP datagram. A simple client program is included to
do this on the command line.

SECURITY: The daemon runs chrooted and drops privileges to a user named
pftabled (or nobody if it doesn't exist). But remember to secure your
receiving port by adequate pf rules, e.g.

  block in proto udp from any to ($if_int) port 1234
  pass in on $if_int proto udp from $authorized to ($if_int) port 1234


Usage examples
==============

1. Spam blocking

On your firewall you are redirecting certain IPs to spamd:

  table <spammer> persist
  rdr on fxp0 proto tcp from <spammer> to any port 25 -> 127.0.0.1 port 8025

Now you're able to fill this table from your mailservers, e.g. with qmail

  $ cat .qmail-spamtrap
  |pftabled-client 10.1.1.1 1234 add $TCPREMOTEIP


2. Portsentry response

You're running portsentry (or some other honeypot tool) on your hosts.
Add these lines to your portsentry.conf

  KILL_RUN_CMD_FIRST = "0"
  KILL_RUN_CMD="pftabled-client 10.1.1.1 1234 add $TARGET$"

to add attackers to a blocklist on your firewall

  table <block> persist
  block in on fxp0 from <block> to any


History
=======

2004-04-24 Version 1.02.
           New timeout option to remove table entries after a fixed time.
           Idea from Samuel Ljungkvist <salj@triplefusion.net>, code by me.

2003-10-29 Version 1.01.
           Initial release.


Homepage
========

You can always find the latest version of pftabled at:

  http://www.wolfermann.org/pftabled.html


$Id: README,v 1.11 2004/04/24 23:20:55 armin Exp $
